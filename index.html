<html>
  <head>
    <title>Canvas Game</title>
    <style>
    </style>
  </head>
  <body>
    <div id="canvasWrapper" style="border:1px solid;   width:1000px; height:600px;">
		<canvas id="game" width="1000" height="600">
			Could not create Canvas!
		</canvas>
	</div>
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
	<script src="http://code.jquery.com/jquery-1.11.1.js"></script>
	<script>
		var ws = new WebSocket('ws://localhost:3000');
		 
		ws.onopen = function (event) {
			alert('Connection opened.');
		}

		$("#canvasWrapper").keypress(function(e) {
			var event = {type:'keypressed',data:e.keyCode};
			ws.send(JSON.stringify(event));
		});
	  
		ws.on('new position', function(data, flags) {
			var player = JSON.parse(data); 
			if (!player.connected) {
				// remove player from canvas
			} else {
				// draw new position
				$('#game'); // update canvas
			}
		});
	  
		ws.on('max reached', function(data, flags) {
			alert(data);
		});
	</script>
  </body>
</html>